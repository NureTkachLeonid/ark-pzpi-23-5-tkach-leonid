ХНУРЕ
Кафедра ПІ
Звіт з практичної роботи №2
Дисципліна: Аналіз та рефакторинг коду
Виконав: ст. гр. ПЗПІ-23-5 Ткач Л.
Тема: "Основи рефакторингу та версійного контролю"

1. МЕТА
Отримати навички рефакторингу "поганого" коду та закріпити знання з Git Flow для ефективної роботи над проєктом.

2. ХІД РОБОТИ

Аналіз Git Flow:
У моєму проєкті "Smart Plant Care" буде використовуватися модифікована модель Git Flow:
- main: гілка, що містить стабільну, протестовану версію продукту (production-ready).
- develop: основна гілка для розробки, де збираються всі нові зміни перед релізом.
- feature/sensor-logic (та інші feature-* гілки): тимчасові гілки для розробки окремих функцій, наприклад, логіки роботи нового датчика. Після завершення роботи вони вливаються в develop.

Техніки рефакторингу:
Я планую застосувати наступні техніки для покращення коду:
1. Extract Method (Виділення методу): Винесення складних умов або блоків коду, що повторюються, в окремі методи. Наприклад, логіку перевірки вологості ґрунту можна винести в метод checkSoilMoisture().
2. Rename Variable (Перейменування змінної): Заміна незрозумілих однолітерних назв змінних на змістовні. Наприклад, змінити x на sensorValue, а val на moistureThreshold, щоб код став зрозумілішим без глибокого аналізу контексту.

3. ПРИКЛАДИ

Приклад ДО (код важкий для розуміння):

void check() {
    int x = getVal();
    int y = 30;
    if (x < y) {
        // Логіка ввімкнення насосу змішана з логікою перевірки
        digitalWrite(13, HIGH);
        log("Pump ON");
    }
}

Приклад ПІСЛЯ (рефакторинг із застосуванням Extract Method та Rename Variable):

void processPlantWatering() {
    int currentMoisture = getSensorValue();
    int moistureThreshold = 30;

    if (shouldWater(currentMoisture, moistureThreshold)) {
        activatePump();
    }
}

bool shouldWater(int moisture, int threshold) {
    return moisture < threshold;
}

void activatePump() {
    digitalWrite(PUMP_PIN, HIGH);
    log("Pump started watering");
}

ВИСНОВКИ
Використання системи контролю версій Git дозволяє мені безпечно експериментувати з кодом, створюючи окремі гілки для нових функцій, не ламаючи основний функціонал. Рефакторинг, у свою чергу, робить систему догляду за рослинами гнучкою до змін та полегшує її подальший розвиток і підтримку.
